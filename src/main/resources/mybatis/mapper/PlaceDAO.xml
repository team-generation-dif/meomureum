<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.meomureum.springboot.dao.IPlaceDAO">
	<update id="insertDAO">
		merge into place p
         using dual
         on (p.api_code = #{api_code})
         when not matched then
		 insert (p_code, api_code, p_place, p_category, p_lat, p_lon, p_addr)
		  values('P'||lpad(schedule_seq.nextval,5,'0'),#{api_code},#{p_place},#{p_category},#{p_lat},#{p_lon},#{p_addr})
	</update>
</mapper>